<div class="row text">
  <div class="col-md-10 offset-1">
    <div class="row">
      <div class="col-md-10 offset-1">
        <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)">
          <div class="form-group">
            <label for="name">Nazwa</label>
            <input type="text" id="name" formControlName="name" class="form-control">
            <span *ngIf="!form!.get('name')!.valid && (form!.get('name')!.dirty || form!.get('name')!.touched)"> Nazwa jest wymagana!</span>
          </div>
          <div class="form-group">
            <label for="user">Użytkownik</label>
            <select class="form-select"formControlName="user" id="user" (change)="onDropdownChange()">
              <option *ngFor="let user of users" [value]="user.id">{{user.firstName}} {{user.lastName}}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="priority">Priorytet</label>
            <select class="form-select"formControlName="priority" id="priority" (change)="onDropdownChange()">
              <option *ngFor="let priority of priorities" [value]="priority">{{ priority }}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="dueTime">Przewidywana data</label>
            <input type="date" id="dueTime" formControlName="dueTime" class="form-control">
            <span *ngIf="form!.get('dueTime')!.errors?.['dateIsBeforeToday'] && (form!.get('dueTime')!.dirty || form!.get('dueTime')!.touched)">Wybrana data jest wcześniejsza niż dzisiaj!</span>
          </div>
          <div class="form-group">
            <label for="description">Opis</label>
            <textarea id="description" formControlName="description" class="form-control" rows="5"> </textarea>
          </div>
          <div class="form-group">
            <input type="submit" value="Zapisz" class="btn btn-outline-success" [disabled]="!form!.valid"/>
            <a class="btn btn-outline-secondary" routerLink="/{{this.projectId}}/{{this.epicId}}/{{isEditMode ? taskId + '/details' : 'tasks'}}">Anuluj</a>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
